{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abc\\\\Documents\\\\Projects\\\\BaconEggAndCheese\\\\frontend\\\\src\\\\components\\\\SubmitForm.tsx\";\nimport React from 'react';\nimport { Button } from '@mui/material';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n;\nexport async function requestGeneratedRecipe(ingredientsList) {\n  var URL = \"http://localhost:8000/getRecipe?\";\n  ingredientsList.forEach(element => {\n    URL += `&i=${element}`;\n  });\n  console.log(URL);\n  let res = await axios.get(URL).then(res => {\n    return res;\n  });\n  return res.data;\n}\nexport async function requestGeneratedImage(prompt) {\n  var URL = \"http://localhost:8000/getImage?prompt=\\\"\" + prompt + \"\\\"\";\n  // console.log(URL)\n\n  let res = await axios.get(URL).then(async link => {\n    return link.data;\n  });\n  return res;\n}\nfunction SubmitForm(props) {\n  function onSubmit(props) {\n    props.setIsImageLoading(true);\n    props.setIsRecipeLoading(true);\n    requestGeneratedRecipe(props.ingredients).then(res => (props.setWrittenRecipe(res.choices[0].text), props.setIsRecipeLoading(false), console.log(res), requestGeneratedImage(res.choices[0].text.replace(/\\s/g, \" \")).then(img => (props.setImage(img), props.setIsImageLoading(false)))));\n  }\n  return /*#__PURE__*/_jsxDEV(Button, {\n    style: styles.submitButton,\n    variant: \"contained\",\n    onClick: () => onSubmit(props),\n    children: \"SUBMIT\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n}\n_c = SubmitForm;\nconst styles = {\n  submitButton: {\n    width: \"100%\",\n    fontFamily: \"Calibri\",\n    fontSize: \"25px\",\n    paddingTop: \"1%\",\n    backgroundColor: \"#69625F\",\n    borderRadius: \"25px\",\n    marginBottom: \"5%\"\n  }\n};\nexport default SubmitForm;\nvar _c;\n$RefreshReg$(_c, \"SubmitForm\");","map":{"version":3,"names":["React","Button","axios","requestGeneratedRecipe","ingredientsList","URL","forEach","element","console","log","res","get","then","data","requestGeneratedImage","prompt","link","SubmitForm","props","onSubmit","setIsImageLoading","setIsRecipeLoading","ingredients","setWrittenRecipe","choices","text","replace","img","setImage","styles","submitButton","width","fontFamily","fontSize","paddingTop","backgroundColor","borderRadius","marginBottom"],"sources":["C:/Users/Abc/Documents/Projects/BaconEggAndCheese/frontend/src/components/SubmitForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Button, Container, TextField,  } from '@mui/material';\r\nimport keys from './../keys.json';\r\nimport axios from 'axios';\r\n\r\ninterface SubmitProps {\r\n    ingredients: Array<string>,\r\n    setWrittenRecipe: Function,\r\n    setImage: Function,\r\n    setIsRecipeLoading: Function,\r\n    setIsImageLoading: Function,\r\n};\r\n\r\n\r\nexport async function requestGeneratedRecipe(ingredientsList: Array<string>){\r\n\r\n    var URL = \"http://localhost:8000/getRecipe?\"\r\n\r\n    ingredientsList.forEach(element => {\r\n        URL += `&i=${element}`\r\n    });\r\n    \r\n    console.log(URL)\r\n\r\n    let res = await axios.get(URL)\r\n    .then(res => {\r\n        return res\r\n    })\r\n\r\n    return res.data\r\n}\r\n\r\nexport async function requestGeneratedImage(prompt: string){\r\n    var URL = \"http://localhost:8000/getImage?prompt=\\\"\" + prompt + \"\\\"\"\r\n    // console.log(URL)\r\n\r\n    let res = await axios.get(URL)\r\n    .then(async (link) => {\r\n        \r\n        return link.data\r\n    })\r\n    \r\n    return res\r\n}\r\n    \r\n\r\n\r\n\r\nfunction SubmitForm(props: SubmitProps){\r\n\r\n    function onSubmit(props: SubmitProps){\r\n        \r\n        props.setIsImageLoading(true);\r\n        props.setIsRecipeLoading(true);\r\n        requestGeneratedRecipe(props.ingredients).then(res => (\r\n            props.setWrittenRecipe(res.choices[0].text),\r\n            props.setIsRecipeLoading(false),\r\n            console.log(res),\r\n\r\n            \r\n\r\n            requestGeneratedImage(res.choices[0].text.replace(/\\s/g, \" \")).then(img => (\r\n                props.setImage(img),\r\n                props.setIsImageLoading(false)\r\n            ))\r\n\r\n        ));\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <Button style={styles.submitButton} variant=\"contained\" onClick={() => onSubmit(props)}>SUBMIT</Button>\r\n    )\r\n}   \r\n\r\nconst styles = ({\r\n    submitButton:{\r\n        width:\"100%\", \r\n        fontFamily:\"Calibri\",\r\n        fontSize:\"25px\",\r\n        paddingTop:\"1%\",\r\n        backgroundColor:\"#69625F\",\r\n        borderRadius:\"25px\",\r\n        marginBottom:\"5%\"\r\n        \r\n    }\r\n})\r\n\r\nexport default SubmitForm;"],"mappings":";AAAA,OAAOA,KAAK,MAAoB,OAAO;AACvC,SAASC,MAAM,QAAgC,eAAe;AAE9D,OAAOC,KAAK,MAAM,OAAO;AAAC;AAQzB;AAGD,OAAO,eAAeC,sBAAsB,CAACC,eAA8B,EAAC;EAExE,IAAIC,GAAG,GAAG,kCAAkC;EAE5CD,eAAe,CAACE,OAAO,CAACC,OAAO,IAAI;IAC/BF,GAAG,IAAK,MAAKE,OAAQ,EAAC;EAC1B,CAAC,CAAC;EAEFC,OAAO,CAACC,GAAG,CAACJ,GAAG,CAAC;EAEhB,IAAIK,GAAG,GAAG,MAAMR,KAAK,CAACS,GAAG,CAACN,GAAG,CAAC,CAC7BO,IAAI,CAACF,GAAG,IAAI;IACT,OAAOA,GAAG;EACd,CAAC,CAAC;EAEF,OAAOA,GAAG,CAACG,IAAI;AACnB;AAEA,OAAO,eAAeC,qBAAqB,CAACC,MAAc,EAAC;EACvD,IAAIV,GAAG,GAAG,0CAA0C,GAAGU,MAAM,GAAG,IAAI;EACpE;;EAEA,IAAIL,GAAG,GAAG,MAAMR,KAAK,CAACS,GAAG,CAACN,GAAG,CAAC,CAC7BO,IAAI,CAAC,MAAOI,IAAI,IAAK;IAElB,OAAOA,IAAI,CAACH,IAAI;EACpB,CAAC,CAAC;EAEF,OAAOH,GAAG;AACd;AAKA,SAASO,UAAU,CAACC,KAAkB,EAAC;EAEnC,SAASC,QAAQ,CAACD,KAAkB,EAAC;IAEjCA,KAAK,CAACE,iBAAiB,CAAC,IAAI,CAAC;IAC7BF,KAAK,CAACG,kBAAkB,CAAC,IAAI,CAAC;IAC9BlB,sBAAsB,CAACe,KAAK,CAACI,WAAW,CAAC,CAACV,IAAI,CAACF,GAAG,KAC9CQ,KAAK,CAACK,gBAAgB,CAACb,GAAG,CAACc,OAAO,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,EAC3CP,KAAK,CAACG,kBAAkB,CAAC,KAAK,CAAC,EAC/Bb,OAAO,CAACC,GAAG,CAACC,GAAG,CAAC,EAIhBI,qBAAqB,CAACJ,GAAG,CAACc,OAAO,CAAC,CAAC,CAAC,CAACC,IAAI,CAACC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAACd,IAAI,CAACe,GAAG,KACnET,KAAK,CAACU,QAAQ,CAACD,GAAG,CAAC,EACnBT,KAAK,CAACE,iBAAiB,CAAC,KAAK,CAAC,CACjC,CAAC,CAEL,CAAC;EAGN;EAEA,oBACI,QAAC,MAAM;IAAC,KAAK,EAAES,MAAM,CAACC,YAAa;IAAC,OAAO,EAAC,WAAW;IAAC,OAAO,EAAE,MAAMX,QAAQ,CAACD,KAAK,CAAE;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA,QAAgB;AAE/G;AAAC,KA1BQD,UAAU;AA4BnB,MAAMY,MAAM,GAAI;EACZC,YAAY,EAAC;IACTC,KAAK,EAAC,MAAM;IACZC,UAAU,EAAC,SAAS;IACpBC,QAAQ,EAAC,MAAM;IACfC,UAAU,EAAC,IAAI;IACfC,eAAe,EAAC,SAAS;IACzBC,YAAY,EAAC,MAAM;IACnBC,YAAY,EAAC;EAEjB;AACJ,CAAE;AAEF,eAAepB,UAAU;AAAC;AAAA"},"metadata":{},"sourceType":"module"}